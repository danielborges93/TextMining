<?xml version="1.0" encoding="UTF-8"?>
<page>
  <post author="" timestamp="2006-09-15 16:45:00.0">
    <title>Direct Animation Overflow and IE7</title>
    <sentence-list count="22">
      <sentence position="1" labelers="1, 3">A researcher posted a vulnerability against IE6 yesterday that uses random input to create a heap overflowin a Direct Animation object.</sentence>
      <sentence position="2" labelers="1, 4">Our team is testing a security update right now to fix this overflow, but in the meantime you can keep your systems safe from this vulnerability by disabling ActiveX controls in the internet zone.</sentence>
      <sentence position="3">If you re a desktop administrator responsible for a set of desktops, you can publish a more tactical fix by disabling the control.</sentence>
      <sentence position="4" labelers="4">If you have the ability to set registry keys on user desktops, the following key will disable the vulnerable object: [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Internet Explorer\ActiveX Compatibility\{D7A7D7C3-D47F-11D0-89D3-00A0C90833E6}] "Compatibility Flags"=dword:00000400</sentence>
      <sentence position="5" labelers="1, 3">The fact that the research community found this bug is a credit to them, evidence of the continued creativity going into tools like HD Moore s metasploit.</sentence>
      <sentence position="6" labelers="1, 4">I admire their creativity but I do think a public disclosure is a missed opportunity to work together on the problem.</sentence>
      <sentence position="7">Security researchers like Dan Kaminsky and Mark Litchfield want the same thing as the security engineering teams.</sentence>
      <sentence position="8">Researchers want to find inventive new attacks and see their creations fixed elegantly by the security engineering teams.</sentence>
      <sentence position="9">I welcome and challenge more researchers to come participate in the process, you can start with a mail to secure@microsoft.com.</sentence>
      <sentence position="10" labelers="2, 3, 4">The good news in yesterday s disclosure is that IE7 is safe against this attack and many of the other recent attacks on IE6.</sentence>
      <sentence position="11" labelers="2">The input of the security community had a deep impact on the security strategy for IE7.</sentence>
      <sentence position="12" labelers="2">As we worked with researchers to strengthen the core of the IE7 codebase against threats, we also eliminated threats on the periphery by reducing the attack surface that we expose to malicious websites.</sentence>
      <sentence position="13" labelers="2">Most notably, IE7 reduces attack surface by disabling most ActiveX controls on the system by default.</sentence>
      <sentence position="14" labelers="2, 4">We actually went a step further with Direct Animation control and effectively remove it when you install IE7.</sentence>
      <sentence position="15" labelers="1, 2, 3">While we re reducing the attack surface from ActiveX, pragmatists will realize that ActiveX controls and other binary extensions are a part of client software for the foreseeable future.</sentence>
      <sentence position="16" labelers="1, 2">ActiveX controls are important and can be built just as safelyas any other client code.</sentence>
      <sentence position="17" labelers="4">I m in frequent contact with the engineering teams for the most commonly used active controls on the internet like Adobe Flash, Apple Quicktime, the RealPlayer, WMP, the Sun JRE and Adobe Acrobat.</sentence>
      <sentence position="18">They are also working with the security research community.</sentence>
      <sentence position="19" labelers="3">They are making the same type of investment s to strengthen their controls against attacks.</sentence>
      <sentence position="20" labelers="1, 3">Some developers will re-enable less commonly used controls for particular scenarios on some systems.</sentence>
      <sentence position="21" labelers="3, 4">Since the default for most ActiveX controls in IE7 is off, the value of an ActiveX vulnerability like the one reported yesterday will start to approach zero.</sentence>
      <sentence position="22">Rob Franco Lead Program Manager</sentence>
    </sentence-list>
  </post>
  <comment-list count="32">
    <comment id="1" author="Steve Shockley" timestamp="2006-09-15 22:06:00.0">You said: "I admire their creativity but I do think a public disclosure is a missed opportunity to work together on the problem."....HD Moore did disclose this to you privately; it's not his fault you didn't fix it before someone else found it.....http://www.securityfocus.com/archive/1/446085/30/0/..</comment>
    <comment id="2" author="Ottmar Freudenberger" timestamp="2006-09-16 01:28:00.0">Steve is right and yes, the ISC reported about the problem back on September 1:  http://isc.sans.org/diary.php?storyid=1661..Since I has been aware of the eploit, I offered a ZIP file containing REG files to set and remove the "killbit" for the control/object:  http://patch-info.de/IE/2006/09/01/  - &amp;#160;warning, that's a German writeup ;-)....Bye,..Freudi</comment>
    <comment id="3" author="Mike" timestamp="2006-09-16 05:04:00.0">Why when ever there is a security breach do microsoft start off by implying that its not their fault but the person who posts it. If I left a key under the door mat to my house and the house got robbed, I would blame myself. Microsoft would blame the nosey neighbour with a blabber mouth who told the thief.</comment>
    <comment id="4" author="Jerry Mead" timestamp="2006-09-16 05:50:00.0">"We actually went a step further with Direct Animation control and effectively remove it when you install IE7."....Can you honestly claim that this decision - and its associated content breakage - was taken solely for security reasons? Just interested.</comment>
    <comment id="5" author="Fduch" timestamp="2006-09-16 09:18:00.0">I totally agree with Steve...MS doesn't bother until MANY users are exploited. They say something like "But there's still no exploit".....And back to the topic. I clerly see they are doing it now with IE7 developement...As Top Voter and Top Validator on connect I can say that too &amp;#160;many important bugs are closed because there are still no exploits for them.</comment>
    <comment id="6" author="Rob Franco [MSFT]" timestamp="2006-09-16 15:21:00.0">@Steve and Fduch, It takes time to test security updates for compatibility. As Jerry Mead points out, disabling Direct Animation will impact sites. I am not pointing blame with this post, I'm pointing out an opportunity for the future. When we work together with the community, we can develop fixes that protect customers but don't break the sites that those customers are visiting.</comment>
    <comment id="7" author="Fiery Kitsune" timestamp="2006-09-16 17:33:00.0">You guys don't bother to fix an exploit until it is publicly disclosed and there is an outcry...</comment>
    <comment id="8" author="Rob Franco [MSFT]" timestamp="2006-09-16 22:42:00.0">@Fduch, our security development and test teams review each bug reports to see if they are exploitable.....If you think they misjudged a bug or we're not casting a wide enough net, please send email to secure@microsoft.com.....@Fiery, fixing the bug is the first step and that's done. Testing the fix properly is maybe even more important.</comment>
    <comment id="9" author="Tony" timestamp="2006-09-16 23:25:00.0">"[T]he most commonly used active controls on the internet like Adobe Flash, Apple Quicktime, the RealPlayer, WMP, the Sun JRE and Adobe Acrobat."....I was just thinking about this last night, but is it possible for the respective companies to release these products without using ActiveX?....I know about the security issues involving ActiveX, but I don't understand why alternatives are not presented by MS. I understand that you want backwards capability and reduce the possibility of broken sites. However, even with SP2 it's a hassle to install even these products with the info bar and other security features. Having it disabled period may create even more havok.....If ActiveX is so dangerous why not just remove it in a next version? Apparently you've decided it's safe to do so with Direct Animation. It's not like the existing ActiveX components won't work with existing browsers after all.</comment>
    <comment id="10" author="redxii" timestamp="2006-09-17 07:50:00.0">Tony, ActiveX is equally dangerous as the privileges you are running with. Exploits like this are stopped by a non-admin account even on default IE settings; it doesn't even get to the part about execution of code. Killbit/patch not needed. Exploiting an already installed control under a non-admin account won't have it magically gain system privileges.....That said, the following setting could have prevented WMF files from executing: "Open files based on content, not file extension" set to Disabled (Enabled by default). The WMF exploit used a 1x1 IFRAME. Making an enlarged IFRAME and pointing it to a malicious WMF file with "Open files based on content, not file extension" set to Disabled, a bunch of garbage displayed in the IFRAME and IE warned me that the security info didn't match. Otherwise, it executed with the default setting.....Disabling "Allow sub-frames to navigate across different domains" foiled the IE and Flash address bar spoofing. (CVE-2006-1626)</comment>
    <comment id="11" author="Fduch" timestamp="2006-09-17 08:54:00.0">@Rob Franco..There were many cases when bug information was sent to you by security experts/hackers but was neglected. After some time it became public. An after some MONTHS someone created exploit. And then MS begins to bitch about "full public disclosure" that is hurting users. I think that ignorance hurts more...</comment>
    <comment id="12" author="Fduch" timestamp="2006-09-17 10:03:00.0">Just some random vulnerability....."Successful exploitation allows an arbitrary file on the user's system to be uploaded to a malicious web site, but requires that the user types a text containing the characters of the filename."....More than 3 months old...Unpatched...I think it would remain unpathched for at least a year.</comment>
    <comment id="13" author="hAl" timestamp="2006-09-17 10:35:00.0">@fduch..Dat does bnot sound like a very critical &amp;#160;vunerability. Surfing to a website and filling in the name of a file on your system and then having that file uplad to that system seems difficult to exploit..</comment>
    <comment id="14" author="goose" timestamp="2006-09-18 00:50:00.0">you guys are being too hard on Microsoft. They don't have enough money to fix all your silly bugs! The resources are being stretched! Poor coders, I feel sorry for them!!!111</comment>
    <comment id="15" author="tuscan5" timestamp="2006-09-17 15:34:00.0">I hope an earlier release of any available update will be decided on. This Security Advisory appeared only 3 days after monthly updates and it will take over 3 weeks for October updates to arrive. It is suggested to alter the Registry. This seems inappropriate for popular computing (how can popular computing be held back?)</comment>
    <comment id="16" author="Vista_the_ther_Linux" timestamp="2006-09-17 20:26:00.0">I tried Vista RC today. &amp;#160;After waiting an hour for it to install it told me it refused to run because the driver for my SATA was not digitally signed. &amp;#160;I don't give a fire eating death dealing goose if a driver is signed or not. This reminds me of Linux retardation where things that should work (installing Firefox) shouldn't require hidden tricks that normal users won't understand. What a waste of three hours of my life.</comment>
    <comment id="17" author="Darrin" timestamp="2006-09-17 21:47:00.0">I want to know if anything is being done about IE7 crashing to desktop. I have this problem many times per day, so do my workmates. I has a fresh and updated install of XP Pro, then installed IE7. It crashes to desktop at least every second time i open it, does anyone else have this issue???? And yes it sends an error report.</comment>
    <comment id="18" author="game kid" timestamp="2006-09-18 01:01:00.0">"I do think a public disclosure is a good opportunity to get the attention of people that know the problem."....The spelling and grammar check is complete.</comment>
    <comment id="19" author="David Wrixon" timestamp="2006-09-18 10:05:00.0">"The good news in yesterday&amp;#8217;s disclosure is that IE7 is safe against this attack and many of the other recent attacks on IE6."....Just one more reason to consign IE 6 to history as soon as practical. Get IE 7 out there now. Trying to repair IE 6 is like trying to patch wet toilet paper!</comment>
    <comment id="20" author="Matt" timestamp="2006-09-18 11:12:00.0">I know the previous answers to this question: "4th Quarter".....Well we're already in the 4th Quarter, so pls answer the question in "weeks" this time.....Regards</comment>
    <comment id="21" author="Aedrin" timestamp="2006-09-18 11:18:00.0">If you were actually finding flaws on software for the sole purpose of helping the community, then you would not release it to the public -ever-.....Too many people assume simplicity in fixing a bug.</comment>
    <comment id="22" author="Gilbert" timestamp="2006-09-18 14:54:00.0">Hello all,....In the past, Microsoft was not responsive to security issues. These days, however, they have to be...and that has required a huge difference in the way they think and write software...and also, getting patches out.....One can argue all day that it has taken them too long, or they still aren't responsive enough. I was one of Microsoft's biggest critics. And while they still have a lot of work to do, I must acknowledge their great progress. In terms of patches, they still need to get out patches sooner; waiting months for a fix (even if undisclosed)..is still asking for huge trouble. Sadly,..no matter what OS or software you run, you'll probably be always trying to catch up with the bad guys. Just a sign of the times.....So, let me say this. I encourage the MSIE..team to continue to work on developing IE so that it is as safe as possible, but do not expect it to be perfect. Furthermore, when mistakes are made, 'fess up. I know that is anti-societal to do so, and of course the common misperception is that it makes you look bad. The truth is that it makes you look bad only if you are so insecure as to not admit your own faults. So, when you blow it, and you will, quite often, we all do...admit it. Keep becoming more responsive to your customers (such as through this blog and allowing comments, which was a GREAT idea!),..and we'll be happy.....It's now obvious that the bad guys release their malware on the world 1-2 days after "Patch Tuesday". I don't know how to suggest to fix that, other than a special release.</comment>
    <comment id="23" author="Fduch" timestamp="2006-09-18 16:25:00.0">@hAl:@fduch..&amp;gt;Dat does bnot sound like a very critical &amp;#160;&amp;gt;vunerability. Surfing to a website and &amp;gt;filling in the name of a file on your system &amp;gt;and then having that file uplad to that &amp;gt;system seems difficult to exploit....YEEEEEEEEEEEEEEEEEES!!!!!!!!!!!!!!!..You've said it.....There is even a proof of concept exploit...But all you say is "it's difficult to exploit. Why bother patching it?"..Just like Microsoft says!.... And imagine gouing to some site that requires you to fill some info. There are files with known names that contain valuable information. (+ attacker can disclose filenames through other UNPATCHED vulnerabilities). There is a hidden file upload field. While you are filling in the data of just randomly mashing the keyboard the script collects letters. Then the file is easily uploaded to attacker...</comment>
    <comment id="24" author="Fduch" timestamp="2006-09-18 16:33:00.0">@Aedrin..&amp;gt;If you were actually finding flaws on &amp;gt;software for the sole purpose of helping the &amp;gt;community, then you would not release it to &amp;gt;the public -ever-.....It's too simple...Lets say there is a security hole. And bad guys are exploiting it. Not in form of a virus, but as targeted attacks...But there is a GoodGuy. He knows about the bug and wants to stop BadGuys...He contacts MS and says them everything. But they do nothing or just say "it's difficult to exploit", "won't fix".....What would you do to stop innocent users from suffering?..I'd try to make it as public as possible to draw attention and make MS fix it. (Kheh... If only I was able to draw attention...)</comment>
    <comment id="25" author="tuscan5" timestamp="2006-09-18 17:15:00.0">Internet Explorer 6 with XP SP2 is requiring the awaited update, because installing Windows Live Toolbar in IE6 as above makes a very fast browser, which has a phishing filter. I think speed is important for effective browsing, and I have not found IE7 able to pace IE6 for speed. You can get a download to stop IE7 being installed. Let's hope MS &amp;#160;can write what is being discussed, because a default setting is involved. &amp;#160; &amp;#160;</comment>
    <comment id="26" author="Aedrin" timestamp="2006-09-18 18:34:00.0">Fduch:....I was talking about the case where 'GoodGuy' discovers the exploit. So no one is abusing it yet.....So when 'GoodGuy' releases the exploit, suddenly ScriptKiddy and BadGuy know how it works, so BadGuy writes a Script. ScriptKiddies all around the world download it and suddenly everyone is having problems because GoodGuy thought that releasing an exploit publicly would be a wise decision.</comment>
    <comment id="27" author="Fduch" timestamp="2006-09-18 18:54:00.0">@Aedrin..In security often different people come to same ideas.....For example I see that some new worms using some of my 3 years old ideas.</comment>
    <comment id="28" author="Kosche" timestamp="2006-09-18 21:38:00.0">I hear IE7 final will be released next month? Does anyone know when it's coming out?</comment>
    <comment id="29" author="PatriotB" timestamp="2006-09-19 01:27:00.0">"I was just thinking about this last night, but is it possible for the respective companies to release these products without using ActiveX? &amp;#160;... &amp;#160;I know about the security issues involving ActiveX, but I don't understand why alternatives are not presented by MS."....What would you propose? &amp;#160;Flash, QuickTime, RealPlayer -- they need to run native code on the user's computer. &amp;#160;And anytime you let a browser plugin run native code, if the plugin is found to have a security hole, then the browser is a vector of attack. &amp;#160;Pure and simple. &amp;#160;If the Flash plugin for Firefox has a security hole, couldn't you then be attacked via browsing with Firefox?....The alternative to having the plugin run native code, is for the plugin to be managed -- i.e., a Java applet or pure .NET applet that can be sandboxed. &amp;#160;Those alternatives do exist. &amp;#160;But do Java or .NET meet the performance requirements for, say, playing streaming video or fancy animations? &amp;#160;I think the answer is no; even WPF/Avalon, which has portions written in managed code, has portions written in native code as well.</comment>
    <comment id="30" author="Fduch" timestamp="2006-09-19 02:57:00.0">@PatriotB "But do Java or .NET meet the performance requirements for, say, playing streaming video or fancy animations? &amp;#160;I think the answer is no; even WPF/Avalon, which has portions written in managed code, has portions written in native code as well."..Yes, .Nets does meet the requirements. There is managed DirectX. There is WPF. There is me, who builds my own voxel graphics engine in .Net....Net will always use native code co communicate with the system. But I can say that Framework is rather safe. It communicates with native code in secure way.....SO I think that allowing/demanding using .Net scripts/controls is a good thing. They just need to make a good warpper around IE functions...Hope they'll do it before I die...</comment>
    <comment id="31" author="EricLaw [MSFT]" timestamp="2006-09-19 16:39:00.0">@Darrin: Please try the steps in the first section of this page:  http://www.enhanceie.com/ie/troubleshoot.asp</comment>
    <comment id="32" author="Convergence: Microsoft, Mozilla, Nintendo and Sony | yellow5.us" timestamp="2006-10-05 19:33:00.0">PingBack from http://yellow5.us/journal/convergence/</comment>
  </comment-list>
</page>

